---
title: 【技术探索三】
tags: [技术探索]

author: Yude Bai
date: 2021-04-16
img: /medias/featureimages/1.jpg
summary: NLP 标注工具 doccano 安装

toc: true
---


# :whale: NLP 标注工具 doccano 安装简版教程 :whale:


## 1、本地环境配置
VMware 16.1.0 + Ubuntu 18.0 + doccano（一般取最新版本）。其中 doccano 官方 Github 为 [doccano-Github](https://github.com/doccano/doccano) 。

## 2、VMware 和 Ubuntu 相关安装
VMware 16 中安装 Ubuntu 18 参考[教程](https://www.cnblogs.com/swjian/p/9193478.html) 。
 - 如果遇到 VMware Tools 的问题（如图 1 所示），比如无法从本地拖入 VMware，此时更新 VMware 至最新版即可，[参考链接](https://zhidao.baidu.com/question/494922921610023452.html) 。
 - 另外，如果无法打开安装的 Ubuntu，可以[参考链接](https://www.cnblogs.com/Komorebi-john/p/11381053.html) 。
 - 经测试，使用解决办法三的第五步（如图 2 所示，禁用 + 启动） + 重启也可以解决无法打开 Ubuntu 的问题。

![图 1. VMware Tools 传文件卡图](https://img-blog.csdnimg.cn/20210416185602132.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbW9zYW5ndGlhbg==,size_16,color_FFFFFF,t_70#pic_center)
![图 2. 解决办法三的第五步](https://img-blog.csdnimg.cn/20210416190636795.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbW9zYW5ndGlhbg==,size_16,color_FFFFFF,t_70#pic_center)

## 3、doccano 安装参考一
参考配置流程，[详细版](https://mp.weixin.qq.com/s?__biz=MzAwNjU0NjA3Ng==&mid=2247487635&idx=1&sn=6cb73bccfdef2545d83afc3d7c583eb5&chksm=9b0ae760ac7d6e7695cac8d30dfebe3e62a0b3a59b80dbed8d96ad99c1b2bf23469861b0a7f7&token=466293760&lang=zh_CN#rd) 。
 - 其中所有 pip 命令需要修改为 pip3 命令（Ubuntu 18.0 默认 python3），否则可能出现某些包安装 error，如 Django==2.2.13 等。
 - 遇到的 error 一般 Baidu + Google 可解。

## 4、doccano 安装参考二
主要错误为：执行 sudo npm install npm -g 时报 fsevents warning，以及安装报错等，按如下步骤处理。
 - 替换源 npm config set registry https://registry.npm.taobao.org 。
 - 替换源 npm config set registry http://registry.npmjs.org 。
 - 替换源 npm config set registry http://registry.npmjs.eu 。
 - 在以上三个源多次替换下更新 npm（sudo npm i npm -g） 和 nodejs（npm install –g n）。
 - 更新稳定版本的 nodejs（n stable，不用 n latest）。
 - 更新完需要 source ~/.profile。
 - 如果以上操作后再无 warning，说明 MacOS 下配置成功 :sob:，[参考链接](https://github.com/google/web-starter-kit/issues/796) 。
 - 但是走完以上流程，依旧报 warning，server 无法 run，说明 fsevents 确实在 Windows/Ubuntu 上出现了问题 :mask:。此时，放弃这个尽管详细但依旧无法走通的配置方案 :pensive:。

--------------------------------------------------------------------------------------------

## 5、doccano 安装参考三
返回 doccano 官方 Github，按 pip installation 所提供步骤重新开始。
 - pip3 install doccano（我的配置环境中用 pip 安装后面会报错），我在 root 下安装（sudo su -）成功。
 - doccano 命令打开本地 server，参数如图 3 所示，默认 username/password 为 admin/password。
 - 登陆后如图 4 所示，如果默认 Firefox 无法 start annotation，安装 Chrome 打开即可。

![图 3. doccano 命令参数](https://img-blog.csdnimg.cn/20210416191659333.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbW9zYW5ndGlhbg==,size_16,color_FFFFFF,t_70#pic_center)
![图 4. doccano 登陆界面](https://img-blog.csdnimg.cn/20210416191817282.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3ppbW9zYW5ndGlhbg==,size_16,color_FFFFFF,t_70#pic_center)

## 6、doccano 安装参考四
Windows 7 安装过程同上，区别在于 Ubuntu 本地登陆为 http://0.0.0.0:8000/ ，Windows 本地登录为 http://127.0.0.1:8000/ 。
 - 其中遇到一个 json 相关的问题“SQLite does not support JSONFields”，可参考 [解决方案](https://blog.csdn.net/melovemingming/article/details/108162811) 和 [SQLite 下载链接](https://www.sqlite.org/download.html) 。

--------------------------------------------------------------------------------------------

## 7、doccano 安装参考五
doccano 使用教程可参考官方文档 [doccano-Github](https://github.com/doccano/doccano) 以及作者团队的 [知乎介绍](https://zhuanlan.zhihu.com/p/48320901) 等。


![](https://img-blog.csdnimg.cn/20210416192410334.png#pic_center)
